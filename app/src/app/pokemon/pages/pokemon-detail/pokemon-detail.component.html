<button class="back-button" (click)="goBack()">← Back</button>

<div *ngIf="pokemon; else loading" class="detail-container">

  <div class="header">
    <img [src]="pokemon.image" [alt]="pokemon.name" />
    <div>
      <h2>{{ pokemon.name | titlecase }}</h2>
      <p class="id">#{{ pokemon.id }}</p>
    </div>
  </div>

  <div class="info-section">
    <p><strong>Height:</strong> {{ pokemon.height }} m</p>
    <p><strong>Weight:</strong> {{ pokemon.weight }} kg</p>

    <p><strong>Types:</strong>
      <span class="type" *ngFor="let type of pokemon.types">
        {{ type }}
      </span>
    </p>
  </div>

  <div class="stats-section">
    <h3>Stats</h3>

    <div *ngFor="let stat of pokemon.stats" class="stat">
      <span>{{ stat.name }}</span>
      <div class="bar">
        <div 
          class="fill" 
          [style.width.%]="stat.value"
        ></div>
      </div>
      <span>{{ stat.value }}</span>
    </div>
  </div>

  <section class="cry" *ngIf="pokemon.cry">
    <h3>Som do Pokémon</h3>
    <audio controls>
      <source [src]="pokemon.cry" type="audio/ogg" />
      Seu navegador não suporta áudio.
    </audio>
  </section>

</div>

<ng-template #loading>
  <p>Loading Pokémon...</p>
</ng-template>
